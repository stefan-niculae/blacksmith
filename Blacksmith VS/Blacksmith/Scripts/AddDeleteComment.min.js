(function(){this.addComment=function(){var n,t;if(t=$("#new-comment-form"),n=t.find("input[type='text']").val(),n!=="")return $.get(""+window.location.href+"&new-comm="+n,function(t){var i;return i=$(t).find("#comments"),$("#comments").replaceWith(i),console.log("done posting comment "+n)})};this.deleteComment=function(){var t,n;return t=$(event.currentTarget).parent(".comment"),n=t.attr("db-id"),$.ajax({url:""+window.location.href+"&del-comm="+n}).done(function(){return t.slideUp("fast"),console.log("done deleting comment with id "+n+" at "+window.location.href+"&del-comm="+n)})}}).call(this);